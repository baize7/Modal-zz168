/*! modal-zz168 - v1.0.1 - 2020-05-31 */
function Modal(t){this._w=t._w,this._h=t._h,this.title=t.title,this.content=t.content,this.topNum=0,this.keyboard=t.keyboard,this.keyEsc=t.keyEsc,this.moveable=t.moveable,this.isMouseDown=!1,this.backdrop=t.backdrop,this.backhead=t.backhead,this.show=t.show,this.posX=0,this.posY=0,this.bindDOM(),this.keyboard&&this.bindshut(),this.keyEsc&&this.bindKey(),this.moveable&&this.bindmobie(),"static"==this.backdrop&&this.backclieck()}Modal.prototype.bindDOM=function(){var t="";t+='<div class="modal-for-page fade">',t+='<div class="modal" id="modal">',t+='<div class="modal-dialog">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<h4 class="modal-title">'+this.title+"</h4>",this.keyboard&&(t+='<button type="button" class="modal-btn">x</button>'),t+="</div>",t+='<div class="modal-body">',t+='<div class="modal-text">'+this.content+"</div>",t+="</div>",t+='<div class="modal-footer">',this.keyboard&&(t+='<button type="button" class="btn btn-default">关闭</button>'),t+='<button type="button" class="btn btn-primary">确认</button>',t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",this.backdrop&&(t+='<div class="modal-bg"></div>'),document.body.innerHTML+=t,this.modal=document.getElementById("modal"),this.modal_bg=document.getElementsByClassName("modal-bg")[0],this.modal_page=document.getElementsByClassName("modal-for-page")[0],this.modal_header=document.getElementsByClassName("modal-header")[0],this.modal_bg=document.getElementsByClassName("modal-bg")[0],this.modal.style.width=this._w+"px",this.modal.style.height=this._h+"px"},Modal.prototype.bindshut=function(){var t=this;this.modal_btn=document.getElementsByClassName("modal-btn")[0],this.btn_default=document.getElementsByClassName("btn-default")[0],this.modal_btn.onclick=function(){t.show?setTimeout(function(){t.modal_page.style.display="none"},500):t.modal_page.style.display="none",t.modal_page.className="modal-for-page fade",t.modal_bg.style.opacity="0"},this.btn_default.addEventListener("click",function(){t.show?setTimeout(function(){t.modal_page.style.display="none"},500):t.modal_page.style.display="none",t.modal_page.className="modal-for-page fade",t.modal_bg.style.opacity="0"},!1)},Modal.prototype.bindKey=function(){var o=this;document.addEventListener("keydown",function(t){t=t||window.event,console.log(t.keyCode),27==t.keyCode&&(o.show?setTimeout(function(){o.modal_page.style.display="none"},500):o.modal_page.style.display="none",o.modal_page.className="modal-for-page fade",o.modal_bg.style.opacity="0")})},Modal.prototype.bindAlert=function(){var t=this;t.modal_page.style.display="block",t.show?setTimeout(function(){t.modal_page.className="modal-for-page fade in"},500):t.modal_page.className="modal-for-page fade in",t.modal_bg.style.opacity="0.5",t.modal.style.top="245px"},Modal.prototype.bindmobie=function(){this.modal.style.position="absolute",this.modal.style.left=window.innerWidth/2-this._w/2+"px",console.log(this.modal.style.width);var e=this;this.modal_header.addEventListener("mousedown",function(t){var o=t||window.event;e.posX=o.offsetX,e.posY=o.offsetY,console.log(e.posY),e.isMouseDown=!0,document.addEventListener("mousemove",function(t){if(!e.isMouseDown)return!1;console.log("ok");var o=t||window.event;e.modal.style.left=o.clientX-e.posX+"px",e.modal.style.top=o.clientY-e.modal_header.offsetHeight-e.posY+"px"})}),document.addEventListener("mouseup",function(t){e.isMouseDown=!1,console.log(e.isMouseDown)})},Modal.prototype.backclieck=function(){var t=this;this.modal_page.addEventListener("click",function(){console.log("ok"),t.show?setTimeout(function(){t.modal_page.style.display="none"},500):t.modal_page.style.display="none",t.modal_page.className="modal-for-page fade",t.modal_bg.style.opacity="0"},!1)};